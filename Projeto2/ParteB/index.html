<!DOCTYPE html>
<html style="font-size: 16px;">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <meta name="page_type" content="np-template-header-footer-from-plugin">
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

   <!-- jQuery library -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   
   <!-- Latest compiled JavaScript -->
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="nicepage.css" media="screen">
  <link rel="stylesheet" href="Página-Inicial.css" media="screen">
  <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
  <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
  <script src="../../tau-prolog.js"></script>
  <meta name="generator" content="Nicepage 4.9.5, nicepage.com">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">


  <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"logo": "images/default-logo.png"
}</script>
  <meta name="theme-color" content="#478ac9">
  <meta property="og:type" content="website">
</head>

<body class="u-body u-xl-mode">
  <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
    <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
      <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
        <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
          href="#">
          <svg class="u-svg-link" viewBox="0 0 24 24">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
          </svg>

        </a>
      </div>
      <div class="u-nav-container">
        <ul class="u-nav u-unstyled u-nav-1">
          <li class="u-nav-item">
          </li>
          </li>
        </ul>
      </div>
      <div class="u-nav-container-collapse">
        <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
          <div class="u-inner-container-layout u-sidenav-overflow">
            <div class="u-menu-close"></div>
            <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
              <li class="u-nav-item">
              </li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Sobre.html">Sobre</a>
              </li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Contact.html">Contact</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
      </div>
    </nav>
  </div>
  </header>
  <section class="u-clearfix u-section-1" id="carousel_c3bb">
    <div
      class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-sm u-valign-middle-xl u-valign-middle-xs u-sheet-1">
      <div
        class="u-expanded-width-md u-expanded-width-sm u-expanded-width-xs u-shape u-shape-svg u-text-palette-1-base u-shape-1">
        <svg class="u-svg-link" preserveAspectRatio="none" viewBox="0 0 160 150">
          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-1073"></use>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
          xml:space="preserve" class="u-svg-content" viewBox="0 0 160 150" x="0px" y="0px" id="svg-1073">
          <path
            d="M43.2,126.9c14.2,1.3,27.6,7,39.1,15.6c8.3,6.1,19.4,10.3,32.7,5.3c11.7-4.4,18.6-17.4,21-30.2c2.6-13.3,8.1-25.9,15.7-37.1 c8.3-12.1,10.8-27.9,5.3-42.7C150.5,20.3,134.6,9,117,7.6C107.9,6.9,98.8,5,90.1,1.9C83-0.6,75-0.7,67.4,2.1 c-9.9,3.7-17,11.6-20.1,21c-3.3,10.1-10.9,18-20.6,22.2c-0.1,0-0.1,0.1-0.2,0.1c-20.3,8.9-31,32-24.6,53.2 C6.9,115.6,25.2,125.2,43.2,126.9z">
          </path>
        </svg>
      </div>
      <div class="u-align-left u-image u-image-circle u-image-1 " data-image-width="600" data-image-height="500"></div>

      <div class="u-expanded-width-xs u-form u-radius-10 u-white u-form-1">
        <form action="#" class="u-clearfix u-form-spacing-15 u-form-vertical u-inner-form" source="email" name="form"
          style="padding: 28px;">
          <div class="u-form-email u-form-group">
            <label for="zona" class="u-label" style="font-weight: bold;">Indique o seu ponto de partida:</label>
            <br>
            <input type="radio" id="l1" name="ponto_partida" value="l1">
            <label for="algarve">L1 </label>
            <br>
            <input type="radio" id="l3" name="ponto_partida" value="l3">
            <label for="açores">L3</label>
            <br>
            <input type="radio" id="l4" name="ponto_partida" value="l4">
            <label for="madeira">L4</label>
            <br>
            <input type="radio" id="l5" name="ponto_partida" value="l5">
            <label for="centro">L5</label>
            <br>
            <input type="radio" id="l6" name="ponto_partida" value="l6">
            <label for="açores">L6</label>
            <br>
            <input type="radio" id="l7" name="ponto_partida" value="l7">
            <label for="madeira">L7</label>
            <br>
            <input type="radio" id="l8" name="ponto_partida" value="l8">
            <label for="centro">L8</label>
          </div>
          <div class="u-form-email u-form-group">
            <label for="zona" class="u-label" style="font-weight: bold;">Indique o seu ponto de chegada:</label>
            <br>
            <input type="radio" id="l2" name="ponto_chegada" value="l2">
            <label for="açores">L2</label>
            <br>
            <input type="radio" id="l3" name="ponto_chegada" value="l3">
            <label for="açores">L3</label>
            <br>
            <input type="radio" id="l4" name="ponto_chegada" value="l4">
            <label for="madeira">L4</label>
            <br>
            <input type="radio" id="l5" name="ponto_chegada" value="l5">
            <label for="centro">L5</label>
            <br>
            <input type="radio" id="l6" name="ponto_chegada" value="l6">
            <label for="açores">L6</label>
            <br>
            <input type="radio" id="l7" name="ponto_chegada" value="l7">
            <label for="madeira">L7</label>
            <br>
            <input type="radio" id="l8" name="ponto_chegada" value="l8">
            <label for="centro">L8</label>
          </div>
          <div class="u-form-email u-form-group">
            <label for="zona" class="u-label" style="font-weight: bold;">O que prefere?</label>
            <br>
            <input type="radio" id="distancia" name="ponto" value="distancia">
            <label for="algarve">Caminho mais curto </label>
            <br>
            <input type="radio" id="custo" name="ponto" value="custo">
            <label for="açores">Caminho mais barato</label>
            <br>
            <input type="radio" id="custoedistancia" name="ponto" value="custoedistancia">
            <label for="açores">Caminho com melhor custo/distancia</label>
          </div>
          <div class="u-align-right u-form-group u-form-submit">
            <input
              class="u-active-palette-1-light-1 u-border-2 u-border-active-palette-1-light-1 u-border-hover-palette-1-light-1 u-border-palette-1-base u-btn u-btn-round u-btn-submit u-button-style u-hover-palette-1-light-1 u-palette-1-base u-radius-10 u-btn-1"
              type="button" value="Submeter" id="button" onClick="clickButton();">
              <div class="divresposta" id="minhaDiv" style="display:none"></div>
          </div>
          <input type="hidden" value="" name="recaptchaResponse">
        </form>
      </div>
      <!--/container-->
    </div>
    </div>
  </section>

</body>

</html>

<script id="caminho.pl" type="text/prolog">
:- use_module(library(lists)).
:- use_module(library(charsio)).
:- use_module(library(format)).
:- use_module(library(js)).
:- use_module(library(os)).
:- use_module(library(promises)).
:- use_module(library(random)).
:- use_module(library(statistics)).

/* LIGAÇÕES */
percurso(l1, l8).
percurso(l1, l7).
percurso(l1, l6).
percurso(l1, l5).
percurso(l1, l3).
percurso(l8, l3).
percurso(l8, l7).
percurso(l7, l6).
percurso(l7, l2).      
percurso(l6, l2).     
percurso(l5, l2).     
percurso(l3, l4).     
percurso(l4, l2). 
  
/* CUSTO ALOJAMENTO */
custo(l1, 50).
custo(l3, 240).
custo(l4, 150).
custo(l5, 400).
custo(l6, 70).
custo(l7, 30).
custo(l8, 100).

/* DISTÂNCIA ENTRE PONTOS */
distancia(l1, l8, 55).
distancia(l1, l7, 34).
distancia(l1, l6, 55).
distancia(l1, l5, 100).
distancia(l1, l3, 25).
distancia(l8, l3, 0).    
distancia(l8, l7, 25).
distancia(l7, l6, 15).
distancia(l7, l2, 0).     
distancia(l6, l2, 30).     
distancia(l5, l2, 25).     
distancia(l3, l4, 40).     
distancia(l4, l2, 20). 
  
/* caminho */
caminho(X,Z,Caminho):-caminho(X,Z,[X],Caminho).
caminho(X,X,Caminho,Caminho).
caminho(X,Z,Visitado,Caminho)
:- percurso(X,Y),
\+ member(Y,Visitado),
caminho(Y,Z,[Y | Visitado],Caminho).


/* caminho com menor custo */ 
caminhobarato(X,Y,C):-caminho(X,Y,C), 
maisbarato(X,Y,C).  

maisbarato(X,Y,C):- custo_percurso(C,NC),!,
\+ menorcusto(X,Y,NC).

menorcusto(X,Y,NC):- caminho(X,Y,C1),
custo_percurso(C1,NC1),
NC1<NC, NC1 =< 450.

/* custo do percurso */
custo_percurso([_],0).
custo_percurso([_,Y|Z],Total):- custo(Y, T1),
  custo_percurso([Y|Z],T2), Total is T1 + T2. 


/* caminho com menos distância */
caminhocurto(X,Y,C):-caminho(X,Y,C), 
maiscurto(X,Y,C).  

maiscurto(X,Y,C):- distancia_percurso(C,NC),!,
\+ menordistancia(X,Y,NC).

menordistancia(X,Y,NC):- caminho(X,Y,C1),
distancia_percurso(C1,NC1),
NC1<NC. 

/* distancia do percurso */
distancia_percurso([_],0).
distancia_percurso([X,Y|Z], Soma):- distancia(Y,X, S1),
distancia_percurso([Y|Z],S2), Soma is S1 + S2.


/* trajeto */
trajeto(X,Y,T):- caminho(X,Y,T), melhor(X,Y,T).

melhor(X,Y,T):- solucao(T,MT,_,_),!,
  \+ otimizado(X,Y,MT).

/* melhor trajeto */ 
otimizado(X,Y,MT):- caminho(X,Y,T1),
  solucao(T1,MT1,_,_),
  MT1<MT.

/* solução */ 
solucao(T1,MT1,P,K):- custo_percurso(T1,K), distancia_percurso(T1,P), MT1 is K/P.

  </script>

<script>
  function displayRadioValue(X) {
    switch (X) {
      case 'inicio':
        var ele = document.getElementsByName('ponto_partida');

        for (i = 0; i < ele.length; i++) {
          if (ele[i].checked)
            return ele[i].value;
        }
        break;
      case 'fim':
        var ele = document.getElementsByName('ponto_chegada');

        for (i = 0; i < ele.length; i++) {
          if (ele[i].checked)
            return ele[i].value;
        }
        break;
      case 'opcao':
        var ele = document.getElementsByName('ponto');

        for (i = 0; i < ele.length; i++) {
          if (ele[i].checked)
            return ele[i].value;
        }
        break;
    }

  }
</script>

<script type="text/javascript">
  // Show the likes of a person
  function caminho() {
    var inicio = displayRadioValue('inicio');
    var fim = displayRadioValue('fim');
    var opcao = displayRadioValue('opcao');
    var goal;

    switch (opcao) {
      case 'distancia':
        goal = "caminhocurto(" + inicio + ", " + fim + ", X).";
        break;
      case 'custo':
        goal = "caminhobarato(" + inicio + ", " + fim + ", X).";
        break;
      case 'custoedistancia':
        goal = "trajeto(" + inicio + ", " + fim + ", X).";
        break;
    }

    // Create session
    var session = pl.create();
    // Session consult
    session.consult("caminho.pl");
    // Query goal
    session.query(goal);
    // Find answers
    session.answer(function (x) { 
      resposta = pl.format_answer(x);
      document.getElementById("minhaDiv").innerHTML = "Deve seguir por: " + resposta;
      document.getElementById("minhaDiv").style.display = 'block';
    });
  }


  function clickButton() {
    caminho();
  }

</script>